# Редактор Геометрических Преобразований на C# WPF и Emgu.CV (АОЦИ)

Этот проект — третья часть в серии учебных приложений по анализу и обработке цифровых изображений. Он посвящен одной из самых важных тем в компьютерной графике — **геометрическим преобразованиям**.

Здесь наглядно демонстрируются и сравниваются различные подходы к масштабированию, вращению, сдвигу и созданию нелинейных искажений изображений.

## Функционал

Приложение позволяет выполнять разнообразные геометрические манипуляции с изображением:

*   **Масштабирование:**
    *   Реализовано **прямым методом** (для демонстрации его недостатков).
    *   Реализовано **обратным методом** (правильный подход).
*   **Линейные (Афинные) Преобразования:**
    *   **Вращение** вокруг заданной точки.
    *   **Сдвиг (Shear):** Наклон или "скос" изображения по горизонтали.
*   **Улучшение качества:**
    *   **Билинейная интерполяция:** Возможность включить/выключить сглаживание для сравнения качества преобразований.
*   **Нелинейные искажения:**
    *   Эффект **"Волна"**.
    *   Эффект **"Закручивание" (Twirl)**.

## Ключевые концепции, продемонстрированные в проекте
Этот проект акцентирует внимание на следующих важных аспектах:

### 1. Прямое vs. Обратное преобразование

Это центральная тема проекта. Существует два способа "перемещать" пиксели:

*   **Прямое преобразование (Forward Mapping):**
    *   **Идея:** "Для каждого пикселя *источника* найдем его новое место в *результате*".
    *   **Проблема:** При увеличении изображения пиксели источника "разлетаются", оставляя между собой пустые места (**"дыры"**). При уменьшении несколько пикселей источника могут попасть в одну и ту же точку результата, перезаписывая друг друга.
    *   **В коде:** Метод `OnGeometryFilterChanged`.

*   **Обратное преобразование (Inverse Mapping):**
    *   **Идея:** "Для каждого пикселя *результата* спросим, из какой точки *источника* ему взять цвет".
    *   **Преимущество:** Этот подход **гарантирует**, что каждый пиксель конечного изображения будет заполнен. Он является стандартом для всех качественных геометрических преобразований.
    *   **В коде:** Метод `OnInversedGeometryFilterChanged`.

### 2. Интерполяция — "Как сделать картинку гладкой?"

Когда при обратном преобразовании мы вычисляем координаты в исходном изображении, они почти всегда получаются дробными (например, `(10.3, 25.7)`). Что делать?

*   **Метод ближайшего соседа (Nearest Neighbor):**
    *   **Идея:** Просто округлить координаты и взять цвет ближайшего реального пикселя.
    *   **Результат:** Быстро, но изображение выглядит "зубчатым", "пиксельным". Это происходит, когда чекбокс "Интерполяция" выключен.

*   **Билинейная интерполяция:**
    *   **Идея:** Найти 4 ближайших пикселя, окружающих нашу дробную точку, и "смешать" их цвета пропорционально расстоянию до них.
    *   **Результат:** Гораздо более гладкое и качественное изображение, без резких переходов.
    *   **В коде:** Метод `BilinearInterpolate` и чекбокс "Интерполяция".

### 3. Линейные и Нелинейные искажения

*   **Линейные (Афинные) преобразования** (масштаб, поворот, сдвиг) сохраняют параллельность линий. Их можно описать единой математической матрицей. В коде они объединены в функции `OnInversedGeometryFilterChanged`.

*   **Нелинейные искажения** ("Волна", "Закручивание") изменяют изображение более сложным образом. Для каждого пикселя применяется уникальная функция смещения, которая часто зависит от его положения (например, от расстояния до центра в эффекте "Twirl").
